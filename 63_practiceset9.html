<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>



        //Q1 load a javascript file use promises

        // const loadScript = async (src)=>{
        //     return new Promise ((resolve,reject) =>{
        //         let script = document.createElement("script")
        //         script.src = src
        //         document.body.appendChild(script)
        //         script.onload = ()=>{
        //             resolve("Successfully Done")
        //         }
        //         script.onerror = ()=>{
        //             reject("Not Able to find the source")
        //         }
        //     })

        // }

        // let a = loadScript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")
        //     a.then((value)=>{
        //         console.log(value);
        //     }).catch((err)=>{
        //         console.log(err);
        //     })


        // Q2 using async / await instead of .then()

        // const call = async ()=>{
        //     console.log(new Date().getMilliseconds());
        //     let b = await loadScript("https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js")
        //     console.log(b + " i am b" );
        //     console.log(new Date().getMilliseconds());
        // }

        // call()


        // Q3 create a promise which wil reject after 3 sec use asyn/await  to gt values use try catch to handle errros

        // const p = async ()=>{
        //     return new Promise((resolve,reject)=>{
        //         setTimeout(() => {
        //             reject("This is fat gya")
        //         }, 3000);
        //     })
        // }

        // let a = async() =>{
        //     try{
        //         let c = await p()
        //         console.log(c);
        //     }
        //     catch{
        //         console.log("Some Problem is there");
        //     }
        //     finally{
        //         console.log("Q3 is solved");
        //     }
        // }

        // a()

        // Q4 compare promise.all vs 1 byh 1 promise in await function


        let p1 = async () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(10)
                }, 3000);
            })
        }

        let p2 = async () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(20)
                }, 2000);
            })
        }

        let p3 = async () => {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    resolve(30)
                }, 1000);
            })
        }


        const run = async () => {
            console.time("run");
            let a = await p1()
            let b = await p2()
            let c = await p3()
            console.log(a, b, c);
            console.timeEnd("run")
        }
                //vs
        const runAll = async()=>{
            console.time("RunAll")
            let a = p1()
            let b = p2()
            let c = p3()
            let a1b1c1 = await Promise.all([a,b,c])
            console.log(a1b1c1);
            console.timeEnd("RunAll")
        }
        run()
        runAll()

    </script>
</body>

</html>